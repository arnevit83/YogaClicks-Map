@using Clicks.Yoga.Portal.Models.Groups
@using Microsoft.Web.Mvc.Html
@model Clicks.Yoga.Portal.Models.Groups.GroupCreateStep1Model

@{
    Layout = "~/Views/Layout/Modal.cshtml";
}

@using (Html.BeginForm("CreateStep1", "Groups"))
{
    @*@Html.Serialize("CreateModel", ViewBag.CreateModel as GroupCreateModel)*@
    
    @Html.Hidden("CreateModel", new MvcSerializer().Serialize((GroupCreateModel)ViewBag.CreateModel, SerializationMode.Signed))

    @Html.HiddenFor(m => m.OwnerId)
    <h3 class="greenHeader">Create a new group</h3>
    <hr />
        <ul class="steps steps3">
            <li class="active"><span>Step 1</span></li>
            <li><span>Step 2</span></li>
            <li><span>Step 3</span></li>
        </ul>
    <div class="scrollableiFrame">
   
            @Html.ValidationSummary()
            
            <div class="clearRow">
                <div class="halfWidth">
                    @Html.LabelFor(m => m.Name, "Group name")
                    @Html.EditorFor(m => m.Name)
                </div>
            </div>
    
            <div class="clearRow descriptionTextArea">
                <div class="halfWidth">
                    @Html.LabelFor(m => m.Description, "Description")
                    @Html.TextAreaFor(m => m.Description)
                </div>
            </div>

            <div class="clearRow">
                <div class="halfWidth">
                    @Html.LabelFor(m => m.PromoterHandle, "Which of your pages will promote this group")
                    @Html.EditorFor(m => m.PromoterHandle)
                </div>
            </div>
    
            <div class="clearRow">
                <div class="halfWidth">
                    @Html.LabelFor(m => m.Private, "Is this a private group?")
                    @Html.EditorFor(m => m.Private) Yes
                </div>
            </div>

    </div>
    <hr />
        <div>
            <a href="javascript:parent.$.fancybox.close();" class="textLink fl">Cancel</a>
            <button type="submit" class="button pink large fr">Next</button>
        </div>
}
