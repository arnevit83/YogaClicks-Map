@model Clicks.Yoga.Portal.Models.Messaging.MessagingDeliveriesModel

@{
    ViewBag.Title = "Messages";
    Layout = "~/Views/Layout/Layout.cshtml";
}

@section LeftNav {
    @Html.Action("Navigation", "Profiles", new { SecurityContext.CurrentProfile.Id })
}

@{
    var guid = Guid.NewGuid().ToString();
}

<div id="content-slider" class="content-slider">
    <div class="profile-strip content-col" id="scroll">
        <div id="page-content">
            <article id="static">
                @Html.Partial("HeaderPartial")
               <!-- Not in design @Html.ActionLink("Return to inbox", "Deliveries") -->

                <div id="@guid">
                    <div data-role="Actions" class="messageActions">
                        <div class="block-section fl">
                            <input data-role="Search" type="text" placeholder="Search Messages">
                        </div>
                        <div class="block-section fr">
                            <button data-role="ActionButton" data-url="@Url.Action("HideDeliveries", "Messaging")" class="silver button">Delete selected</button>
                            <button data-role="ActionButton" data-url="@Url.Action("ReadDeliveries", "Messaging")" class="silver button">Mark read</button>
                            <button data-role="ActionButton" data-url="@Url.Action("UnreadDeliveries", "Messaging")" class="silver button">Mark unread</button>
                        </div>
                    </div>

                    <div data-role="Messages">
                        @Html.Action("DeliveriesPartial")
                    </div>
                </div>
            </article>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('#@guid').yogaMessageDeliveries();
    });
</script>